<!-- <ion-content>

  <ion-searchbar style="border: none;" animated></ion-searchbar>

  <ion-list-header style="color:#f53d3d;">New Matches</ion-list-header>
  <ion-item lines="none">
    <ion-avatar style="margin-left: 12px;margin-bottom: 28px;">
      <img src="https://ionicframework.com/docs/demos/api/avatar/avatar.svg" />
      <ion-label>Finn</ion-label>
    </ion-avatar>

    <ion-avatar  style="margin-left: 12px;margin-bottom: 28px;">
      <img src="https://ionicframework.com/docs/demos/api/avatar/avatar.svg" />
      <ion-label>Jack</ion-label>
    </ion-avatar>
  </ion-item>


  <ion-list-header style="color:#f53d3d;">Messages</ion-list-header>
  <ion-item>
    <ion-avatar item-start>
      <img src="https://ionicframework.com/docs/demos/api/avatar/avatar.svg">
    </ion-avatar>
    <ion-label>
      <h2>Finn</h2>
      <p>Listen, I've had a pretty messed up day...</p>
    </ion-label>
  </ion-item>

  <ion-item item-start>
    <ion-avatar item-start>
      <img src="https://ionicframework.com/docs/demos/api/avatar/avatar.svg">
    </ion-avatar>
    <ion-label>
      <h2>Jack</h2>
      <p>Listen, I've had a pretty messed up day...</p>
    </ion-label>
  </ion-item>

  <ion-item slot="start">
    <ion-avatar item-start>
      <img src="https://ionicframework.com/docs/demos/api/avatar/avatar.svg">
    </ion-avatar>
    <ion-label>
      <h2>Jenny</h2>
      <p>Listen, I've had a pretty messed up day...</p>
    </ion-label>
  </ion-item>

</ion-content> -->
<ion-content [fullscreen]="true">

  <ion-item *ngFor="let chat of chatData"
    routerLink="/pages/chat" routerDirection="forward">
    <ion-avatar class="chatImage" slot="start">
      <img src="https://ionicframework.com/docs/demos/api/avatar/avatar.svg">
    </ion-avatar>
    <ion-label>
      <div class="withcount">
        <div class="nameAvatar">
          <h2 color="light">{{chat.name}}
          </h2>
        </div>
        <div class="timeEnd">
          <ion-text slot="end" color="dark">
            <ion-avatar class="chatCount" *ngIf="chat.count">{{chat.count}}</ion-avatar>
          </ion-text>
        </div>
      </div>
      <p class="widthHalf">{{chat.description}}</p>
    </ion-label>
  </ion-item>

  <div id="app">
    <div class="app__phone">
      <div class="phone-header">
        <img
          src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/1211695/Instagram_logo.png"
          />
        <p class="cancel-cta" v-if="step === 2 || step === 3" @click="goToHome">Cancel</p>
        <p class="next-cta" v-if="step === 2" @click="step++">Next</p>
        <p class="next-cta" v-if="step === 3" @click="sharePost">Share</p>
      </div>
      <!-- <transition name="fade">
            <div class="feed" v-if="step === 1" v-dragscroll.y="true">
              <instagram-post v-for="post in posts"
                              :post="post"
                              :key="posts.indexOf(post)">
              </instagram-post>
            </div>
          </transition> -->
      <div v-if="step === 2">
        <div class="selected-image"
          :class="filterType"
          :style="{ backgroundImage: 'url(' + image + ')' }"></div>
        <div class="filter-container" v-dragscroll.x="true">
          <!-- <filter-type v-for="filter in filters"
                           :filter="filter"
                           :image="image"
                           :key="filter.name">
              </filter-type> -->
        </div>
      </div>
      <div v-if="step === 3">
        <div class="selected-image"
          :class="filterType"
          :style="{ backgroundImage: 'url(' + image + ')' }"></div>
        <div class="caption-container">
          <textarea class="caption-input"
            placeholder="Write a caption..."
            type="text"
            v-model="caption">
          </textarea>
        </div>
      </div>
      <div class="phone-footer">
        <div class="home-cta" >
          <i class="fas fa-home fa-lg"></i>
        </div>
        <div class="upload-cta">
          <input type="file"
            name="file"
            id="file"
            class="inputfile"
         
            v-model="fileInput"
            :disabled="step !== 1" />
          <label for="file">
            <i class="far fa-plus-square fa-lg"></i>
          </label>
          <!-- <p v-if="step === 1">
            Click <a @click="uploadRandomImage">here for a random image!</a> or
            upload your own! <i class="fas fa-chevron-right"></i>
          </p> -->
        </div>
      </div>
    </div>
    <div class="details">
      <!-- <a class="button is-primary is-small is-info" v-if="!showDetails"
        @click="showDetails= !showDetails">Details</a> -->
      <ul v-else>
        <li>Navigate the feed by <span>dragging (or scrolling)</span></li>
        <li>Upload an image with <span><i class="far fa-plus-square fa-lg"></i></span></li>
        <li>Like a post with
          <span><i class="far fa-heart fa-lg"></i></span> or <span>double
            clicking an image</span></li>
      </ul>
    </div>
    <!-- <a href="https://twitter.com/djirdehh" target="_blank"
      class="twitter-section">
      <i class="fab fa-twitter" aria-hidden="true"></i>
      <a> -->
      </div>
    </ion-content>

    <script
      src="https://cpwebassets.codepen.io/assets/common/stopExecutionOnTimeout-157cd5b220a5c80d4ff8e0e70ac069bffd87a61252088146915e8726e5d9f147.js"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.13/vue.min.js'></script>
    <script
      src='https://unpkg.com/vue-dragscroll@1.3.1/dist/vue-dragscroll.min.js'></script>
    <script id="rendered-js">
const EventBus = new Vue();

const posts = [
{
  username: 'socleansofreshh',
  userImage: 'https://s3-us-west-2.amazonaws.com/s.cdpn.io/1211695/me_3.jpg',
  postImage: 'https://s3-us-west-2.amazonaws.com/s.cdpn.io/1211695/tropical_beach.jpg',
  likes: 36,
  upVoted: false,
  caption: "When you're too ready for summer '18 ‚òÄÔ∏è",
  filter: 'perpetua' },

{
  username: 'djirdehh',
  userImage: 'https://s3-us-west-2.amazonaws.com/s.cdpn.io/1211695/me2.png',
  postImage: 'https://s3-us-west-2.amazonaws.com/s.cdpn.io/1211695/downtown.jpg',
  likes: 20,
  upVoted: false,
  caption: 'Views from the six...',
  filter: 'clarendon' },

{
  username: 'puppers',
  userImage: 'https://s3-us-west-2.amazonaws.com/s.cdpn.io/1211695/pug_personal.jpg',
  postImage: 'https://s3-us-west-2.amazonaws.com/s.cdpn.io/1211695/puppers.jpg',
  likes: 49,
  upVoted: false,
  caption: 'Current mood üê∂',
  filter: 'lofi' }];



const filters = [
{ name: 'normal' }, { name: 'clarendon' }, { name: 'gingham' }, { name: 'moon' }, { name: 'lark' }, { name: 'reyes' }, { name: 'juno' }, { name: 'slumber' }, { name: 'aden' }, { name: 'perpetua' }, { name: 'mayfair' }, { name: 'rise' }, { name: 'hudson' }, { name: 'valencia' }, { name: 'xpro2' }, { name: 'willow' }, { name: 'lofi' }, { name: 'inkwell' }, { name: 'nashville' }];


Vue.component('instagram-post', {
  template:
  `
    <div class="instagram-post">
      <div class="header level">
          <div class="level-left">
            <figure class="image is-32x32">
              <img :src="post.userImage" />
            </figure>
            <span class="username">{{post.username}}</span>
          </div>
      </div>
      <div class="image-container"
           :class="post.filter"
           :style="{ backgroundImage: 'url(' + post.postImage + ')' }"
           @dblclick="like">
      </div>
      <div class="content">
        <div class="heart">
          <i class="far fa-heart fa-lg"
            :class="{'fas': !this.post.upVoted,  'fas': this.post.upVoted}"
            @click="like">
          </i>
        </div>
        <p class="likes">{{post.likes}} likes</p>
        <p class="caption"><span>{{post.username}}</span> {{post.caption}}</p>
      </div>
    </div>
  `,
  props: ['post'],
  methods: {
    like() {
      this.post.upVoted ? this.post.likes-- : this.post.likes++;
      this.post.upVoted = !this.post.upVoted;
    } } });



Vue.component('filter-type', {
  template:
  `
   <div class="filter-type">
     <p>{{filter.name}}</p>
    <div class="img"
         :class="filter.name"
         :style="{ backgroundImage: 'url(' + image + ')' }"
         @click="selectFilter">
    </div> 
   </div>
  `,
  props: ['filter', 'image'],
  methods: {
    selectFilter() {
      EventBus.$emit('selectFilter', { filter: this.filter.name });
    } } });



new Vue({
  el: "#app",
  data: {
    posts,
    image: 'https://s3-us-west-2.amazonaws.com/s.cdpn.io/1211695/downtown.jpg',
    caption: '',
    filterType: 'normal',
    step: 1,
    showDetails: false,
    fileInput: '' },

  created() {
    EventBus.$on('selectFilter', evt => {
      this.filterType = evt.filter;
    });
  },
  methods: {
    fileUpload(e) {
      const files = e.target.files || e.dataTransfer.files;
      if (!files.length) return;
      this.image = files[0];
      this.createImage();
    },
    createImage() {
      const image = new Image();
      const reader = new FileReader();

      reader.onload = e => {
        this.image = e.target.result;
        this.step = 2;
      };
      reader.readAsDataURL(this.image);
    },
    uploadRandomImage() {
      const randomImages = [
      'https://s3-us-west-2.amazonaws.com/s.cdpn.io/1211695/cat.jpg',
      'https://s3-us-west-2.amazonaws.com/s.cdpn.io/1211695/sushi.jpg',
      'https://s3-us-west-2.amazonaws.com/s.cdpn.io/1211695/velvet_monkey.jpg',
      'https://s3-us-west-2.amazonaws.com/s.cdpn.io/1211695/pineapple.jpg',
      'https://s3-us-west-2.amazonaws.com/s.cdpn.io/1211695/tropical_ocean.jpg'];


      this.image = randomImages[Math.floor(Math.random() * randomImages.length)];
      this.step = 2;
    },
    goToHome() {
      this.image = 'https://s3-us-west-2.amazonaws.com/s.cdpn.io/1211695/downtown.jpg';
      this.caption = '';
      this.filterType = 'normal';
      this.step = 1;
    },
    sharePost() {
      const post = {
        username: 'codepen',
        userImage: 'https://s3-us-west-2.amazonaws.com/s.cdpn.io/1211695/codepen_logo.png',
        postImage: this.image,
        likes: 0,
        caption: this.caption,
        filter: this.filterType };


      this.posts.unshift(post);
      this.goToHome();
    } } });
//# sourceURL=pen.js
    </script>
